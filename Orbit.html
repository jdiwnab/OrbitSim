<html>
    <head>
        <link rel="stylesheet" href="lib/jquery.nouislider.css"></link>
        <link rel="stylesheet" href="lib/jquery.remodal.css"></link>
        <link rel="stylesheet" href="lib/jquery.nouislider.pips.css"></link>
        <script src="lib/jquery-2.1.3.min.js" type="text/javascript"></script>
        <script src="lib/jquery.nouislider.all.js" type="text/javascript"></script>
        <script src="lib/jquery.remodal.min.js" type="text/javascript"></script>
        <script src="cart3.js" type="text/javascript"></script>
        <script src="performance.js" type="text/javascript"></script>
        <script src="orbitdata.js" type="text/javascript"></script>
        <script src="Orbit.js" type="text/javascript"></script>
        <script src="input.js" type="text/javascript"></script>
        <script src="storage.js" type="text/javascript"></script>
        <script src="render.js" type="text/javascript"></script>
        <script src="rungekutta.js" type="text/javascript"></script>
        <script src="random.js" type="text/javascript"></script>
        <script src="lagrange.js" type="text/javascript"></script>
        <script type="text/javascript">
            addEvent(window,'load',engine.reset);
            addEvent(window,'load',engine.setupControlEvents);
        </script>
        <title>Orbits</title>
        <style>
            .inputpanel {
                display: inline-block;
                vertical-align: top;
                width: 300px;
            }
            .modallabel {
                width: 50px;
                display:inline-block;
                font-weight: bold;
                margin-top: 5px;
                margin-bottom: 5px;
            }
            .modalinput {
                width: 150px;
            }
            .arrowcircle {
                position: relative;
                height: 50px;
                width: 50px;
                background: lightgray;
                border-radius:50%;
                display: inline-block;
            }
            .arrowpointer {
                height: 0px;
                width: 20px;
                transform: rotate(0 deg);
                border: 2px solid black;
                transform-origin: 0% 50%;
                -webkit-transform-origin: 0% 50%;
                position: absolute;
                top: 50%; left: 50%;
            }
            .slider_with_pips {
                margin-bottom: 40px;
            }
            #input_panel {
                display: inline-block;
            }
            .remodal-confirm, .remodal-cancel {
                margin-top: 10px;
            }
        </style>
    </head>
    <body onresize="engine.resize()">
        <div class="remodal-bg">
            <canvas id="orbit_disp"></canvas>
            <div id="input_panel">
                <div class="inputpanel" id="main-controls">
                    <label>Time Step:</label>
                    <div id="timestep" class="noUi-extended"></div>
                    <span id="stepvalue">10</span><br/>
                    <label>Steps per frame:</label>
                    <div id="framestep" class="noUi-extended"></div>
                    <span id="stepcount">1</span><br/>
                    <form action="">
                        <input type="radio" name="show_history" id="showHistory" value="show_history" checked />Show History<br/>
                        <input type="radio" name="show_history" id="hideHistory" value="hide_history"/>Hide History<br/>
                    </form>
                    <!--Engine:-->
                    <!--<input type="radio" id="algo1" name="algorithm" value="euler">Euler</input><br/>
                    <input type="radio" id="algo2" name="algorithm" value="verlet">Verlet</input>
                    <input type="radio" id="algo3" name="algorithm" value="rk" checked>Runge-Kutta</input><br/>-->
                    <button id="stop" name="start" value="start">Start</button>
                    <button id="reset" name="reset" value="reset">Reset</button>
                    <button id="clear" name="clear" value="clear">Clear</button><br/>
                </div>
                <div id="preset-controls"  class="inputpanel" >
                    <h2>Presets:</h2>
                    <select id="presetSelect">
                        <option value=0>Solar System</option>
                        <option value=1>Double Star</option>
                        <option value=2>Figure 8</option>
                    </select>
                    <button name="loadPreset" id="loadPreset" value="loadPreset">Load</button><br/>
                    <button name="loadRandom" id="loadRandom" value="loadRandom">Load Random</button><br/>
                    <button name="loadLagrange" id="loadLagrange" value="loadLagrange">Load Lagrange</button><br/>
                </div>
                <div id="storage-controls" class="inputpanel">
                <!--local Storage -->
                    <h2>Local Storage:</h2>
                    <button id="saveLocal" name="saveLocal" value="saveLocal">Save To Browser</button><br/><br/>
                    <button id="loadSetup" name="loadSetup" value="loadSetup">Load Setup</button>
                    <button id="loadState" name="loadState" value="loadState">Load State</button><br/><br/>

                    <h2>File Storage:</h2>
                    <button id="export" name="export" value="export">Export To File</button><br/><br/>
                    <label for="import">Upload file: </label>
                    <input type="file" id="import" /><button id="loadImport">Load</button><br/>
                    <form action="">
                        <input type="radio" name="LoadOption" id="stateOption" value="state" checked>State<br/>
                        <input type="radio" name="LoadOption" id="setupOption" value="setup">Setup<br/>
                    </form>
                    
                    <h2>File Export</h2>
                    <button id="csvexport" name="csvexport" value="csvexport">Export to CSV</button>
                    
                    <h2>Precalculate</h2>
                    <button id="precalculate" name="precalculate" value="precalculate">Precalculate</button>
                </div>
                <div class="inputpanel" id="console"></div>
            </div>
        </div>
        <div class="remodal" id="editmodal" data-remodal-id="editmodal" data-remodal-options="hashTracking: false">
            <h2><span id="modal_head">New Object</span></h2>
            
            <div class="modallabel"><label for="name">Name:</label></div>
            <input class="modalinput" id="new_name" type="text" name="name" placeholder="Name"/><br/>
            
            <label class="modallabel" for="new_pos">Position:</label>
            <div class="noUi-extended slider_with_pips" id="new_pos"></div>
            <input class="modalinput" type="number" name="vel" id="hidden_pos"/>
            <div class="modallabel"><label for="pos_angle">Angle:</label></div>
            <input class="modalinput" type="number" id="pos_angle" name="pos_angle" value="0"/>
            <div id="direction" class="arrowcircle">
                <div id="pos_arrow" class="arrowpointer"></div>
            </div><br/>
            
            <div class="modallabel"><label for="pos">Mass:</label></div>
            <div class="noUi-extended slider_with_pips" id="new_mass"></div>
            <input class="modalinput" type="number" name="mass" id="hidden_mass"/><br/>
            
            <div class="modallabel"><label for="pos">Velocity:</label></div>
            <div class="noUi-extended slider_with_pips" id="new_vel"></div>
            <input class="modalinput" type="number" name="vel" id="hidden_vel"/>
            <div class="modallabel"><label for="vel_angle">Angle:</label></div>
            <input class="modalinput" type="number" id="vel_angle" name="vel_angle" value="0"/>
            <div id="direction" class="arrowcircle">
                <div id="vel_arrow" class="arrowpointer"></div>
            </div><br/>
            
            <div class="modallabel"><label for="color">Color:</label></div>
            <select class="modalinput" id="new_color" name="color" placeholder="Color"></select><br/>
            
            <div class="modallabel"><label for="new_rad">Radius:</label></div>
            <input class="modalinput"type="number" id="new_rad" name="new_rad" value="6000"/><br/>
            
            <div class="modallabel"><label for="new_fixed">Fixed: </label></div>
            <input type="checkbox" id="new_fixed" name="new_fixed" value="false" checked="false"/><br/>
            
            <input type="hidden" name="is_edit" id="is_edit" value="false"/><input type="hidden" name="edit_index" id="edit_index" value="-1"/>
            <a class="remodal-confirm" href="#">OK</a>
            <a class="remodal-cancel" href="#">Cancel</a>
        </div>
        <div class="remodal" id="precalcmodal" data-remodal-id="precalcmodal" data-remodal-options="hashTracking: false">
            <h2>Precalculate</h2>
            <div class="modallabel"><label for="precalc_timestep">Timestep</label>
            <input class="modalinput" type="number" id="precalc_timestep" name="precalc_timestep" value="3600"/><br/>
            <div class="modallabel"><label for="precalc_timespan">Timespan</label>
            <input class="modalinput" type="number" id="precalc_timespan" name="precalc_timespan" value="31557600"/><br/>
            <a class="remodal-confirm" href="#">OK</a>
            <a class="remodal-cancel" href="#">Cancel</a>
        </div>
    </body>
</html>
